def compiler = javaToolchains.compilerFor {
    languageVersion = JavaLanguageVersion.of(11)
}

java {
    sourceCompatibility = 11
    targetCompatibility = 11

    toolchain {
        compiler
    }
}

tasks.withType(JavaCompile).configureEach {
    javaCompiler = compiler
    sourceCompatibility = 11
    targetCompatibility = 11
    options.encoding = 'UTF-8'
    options.incremental = true
}